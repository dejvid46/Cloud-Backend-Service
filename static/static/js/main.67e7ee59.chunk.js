(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{432:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),s=n.n(c),i=n(174),o=n(507),u=n(4),l=n(511),j=n(512),d=n(118),b=n(506),x=n(1),p=function(){return Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(x.jsx)(l.a,{sx:{minWidth:300},children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{variant:"h3",component:"div",children:"Error 404"}),Object(x.jsx)(d.a,{sx:{mb:1.5},color:"text.secondary",children:"probably wrong url"})]})})})},f=n(12),h=n.n(f),O=n(16),m=n(79),v=n(180),g=n(137),w=n(513),k=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a?"application/json":"application/octet-stream",e.next=3,fetch(t,{method:n,headers:new Headers({"Content-Type":r,token:C("token")||""}),body:JSON.stringify(a)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fetch(t,{method:n,headers:new Headers({token:C("token")||""})}),e.next=3,r;case 3:if(e.t0=e.sent.status,!(e.t0<300)){e.next=9;break}return r.then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)})),e.abrupt("return","file downloaded");case 9:return e.next=11,r;case 11:return e.next=13,e.sent.text();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(h.a.mark((function e(t,n,a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",a),e.next=4,fetch(t,{method:n,headers:new Headers({token:C("token")||""}),body:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),C=function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?(t.pop()||"").split(";").shift():void 0},E=function(e,t){var n=new Date,a=t;n.setTime(n.getTime()+864e5),document.cookie=e+"="+a+"; expires="+n.toUTCString()+"; path=/"},T=function(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie=e+"=; expires="+t.toUTCString()+"; path=/"},I=function(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,r=0;r<a;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},P=n(36),F=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(P.b)(),j=l.enqueueSnackbar,p=(l.closeSnackbar,function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/check_login","POST",{token:C("token")||""});case 2:e.sent.status<300?window.location.replace("showfolder"):T("token");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){p()}),[]);var f=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/login","POST",{email:n,pass:i});case 2:if(!((t=e.sent).status>=300)){e.next=11;break}return e.t0=j,e.next=7,t.text();case 7:return e.t1=e.sent,e.t2={variant:"error"},(0,e.t0)(e.t1,e.t2),e.abrupt("return");case 11:return e.t3=E,e.next=14,t.json();case 14:if(e.t4=e.sent.token,e.t4){e.next=17;break}e.t4="";case 17:e.t5=e.t4,(0,e.t3)("token",e.t5),window.location.replace("showfolder");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(x.jsx)(v.a,{children:Object(x.jsxs)(w.a,{"max-width":"600px",children:[Object(x.jsx)(d.a,{style:{margin:"20px"},variant:"h4",children:"Login"}),Object(x.jsx)(g.a,{fullWidth:!0,margin:"normal",id:"outlined-basic",label:"Email",type:"email",variant:"outlined",onChange:function(e){return r(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)(g.a,{fullWidth:!0,margin:"normal",id:"outlined-basic",label:"Password",type:"password",variant:"outlined",onChange:function(e){return o(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)(m.a,{color:"primary",style:{margin:"20px"},variant:"contained",onClick:f,children:"Submit"})]})})})})},G=n(22),z=(Object(G.b)({key:"counterState",default:0}),Object(G.b)({key:"drawerState",default:!1})),D=Object(G.b)({key:"userState",default:{}}),V=(Object(G.b)({key:"usersState",default:[{}]}),Object(G.b)({key:"folderTreeState",default:{}})),q=Object(G.b)({key:"folderPathState",default:""}),N=function(e){var t,n=e.routes,r=Object(a.useState)(window.location.pathname),c=Object(u.a)(r,2),s=c[0],i=c[1],o=Object(G.c)(q),l=Object(u.a)(o,2),j=(l[0],l[1]);return window.onpopstate=function(){j(L()),i(window.location.pathname)},document.title=L().split("/").pop()||"yourCloud",Object(x.jsx)(x.Fragment,{children:C("token")?(null===(t=n.find((function(e){var t=e.name;e.component;return t==="/"+s.split("/")[1]})))||void 0===t?void 0:t.component)||Object(x.jsx)(p,{}):Object(x.jsx)(F,{})})},L=function(){var e=window.location.pathname.split("/");return e.shift(),e[0]="",(0!==e.length?e:[""]).join("/")},M=function(e){window.history.pushState({},"","/"+e),window.dispatchEvent(new Event("popstate"))},A=n(517),W=n(514),U=n(516),H=n(80),B=n(155),R=n.n(B),_=n(156),J=n.n(_),Y=n(3),K=n(5),Q=n(35),X=n(37),Z=n(154),$=n.n(Z),ee=Object(K.a)("div")((function(e){var t=e.theme;return Object(Y.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Q.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(Q.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),te=Object(K.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),ne=Object(K.a)(X.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(Y.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"100%"})}})),ae=function(e){if(e.includes(".")){var t=e.split("/").slice(0,-1).join("/");return"".concat(t.endsWith("/")?t:t+"/")}return"".concat(e.endsWith("/")?e:e+"/")},re=function(){var e=Object(G.d)(q)||L(),t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],c=n[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(ee,{children:[Object(x.jsx)(te,{children:Object(x.jsx)($.a,{})}),Object(x.jsx)(ne,{value:r,onChange:function(e){return c(e.target.value)},placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onKeyPress:function(t){var n=r.includes(".")?"showfile":"showfolder";"Enter"===t.key&&(e.includes(".")||c(""),M("./".concat(n).concat(ae(e)).concat(r)))}})]})})},ce=n(157),se=n.n(ce),ie=n(175),oe=n(50),ue=function(){var e=Object(G.c)(z),t=Object(u.a)(e,2),n=t[0],r=t[1],c=a.useState(null),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Boolean(i),j=function(){o(null)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(U.a,{color:"secondary",position:"fixed",sx:{flexGrow:1,zIndex:function(e){return e.zIndex.drawer+1}},children:Object(x.jsxs)(A.a,{children:[Object(x.jsx)(H.a,{sx:{display:{xs:"block",sm:"none"}},size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return r(!n)},children:Object(x.jsx)(R.a,{})}),Object(x.jsx)(d.a,{variant:"h6",component:"div",style:{margin:"10px"},sx:{display:{xs:"none",sm:"block"}},children:"yourCloud"}),Object(x.jsx)(W.a,{sx:{flexGrow:1},children:Object(x.jsx)(J.a,{sx:{fontSize:"30px",display:{xs:"none",sm:"block"}}})}),Object(x.jsx)(re,{}),Object(x.jsx)(H.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu","aria-expanded":l?"true":void 0,onClick:function(e){o(e.currentTarget)},children:Object(x.jsx)(se.a,{})}),Object(x.jsxs)(ie.a,{id:"user-menu",anchorEl:i,open:l,onClose:j,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(x.jsx)(oe.a,{onClick:function(){M("edit"),j()},children:"Edit me"}),Object(x.jsx)(oe.a,{onClick:function(){T("token"),window.location.href="/login"},children:"Logout"})]})]})})})},le=n(518),je=n(515),de=n(500),be=n(505),xe=n(177),pe=n(499),fe=n(164),he=n.n(fe),Oe=n(165),me=n.n(Oe),ve=n(19),ge=n(521),we=n(161),ke=n.n(we),ye=n(162),Se=n.n(ye),Ce=n(163),Ee=n.n(Ce),Te=n(160),Ie=n(509),Pe=n(8),Fe=a.forwardRef((function(e,t){var n,a=e.classes,r=e.className,c=e.label,s=e.nodeId,i=e.icon,o=e.expansionIcon,u=e.displayIcon,l=Object(Te.a)(s),j=l.disabled,b=l.expanded,p=l.selected,f=l.focused,h=l.handleExpansion,O=(l.handleSelection,l.preventSelection),m=i||o||u;return Object(x.jsxs)("div",{className:Object(Pe.a)(r,a.root,(n={},Object(Y.a)(n,a.expanded,b),Object(Y.a)(n,a.selected,p),Object(Y.a)(n,a.focused,f),Object(Y.a)(n,a.disabled,j),n)),onMouseDown:function(e){O(e)},ref:t,children:[Object(x.jsx)("div",{onClick:function(e){h(e)},className:a.iconContainer,children:m}),Object(x.jsx)(d.a,{component:"div",className:a.label,children:c})]})})),Ge=function(e){return Object(x.jsx)(Ie.a,Object(ve.a)(Object(ve.a)({ContentComponent:Fe},e),{},{onClickCapture:function(){return ze(e.nodeId)}}))},ze=function(e){e.includes(".")?M("showfile"+e):M("showfolder"+e)},De=function(){var e=Object(G.c)(V),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){c()}),[]);var c=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/folder_tree","GET");case 2:if(!((t=e.sent).status<300)){e.next=11;break}return e.t0=r,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 11:return e.t2=console,e.next=14,t.text();case 14:e.t3=e.sent,e.t2.log.call(e.t2,e.t3);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W.a,{sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},children:Object(x.jsx)(W.a,{sx:{mb:1,margin:"5px",marginLeft:"15px"},children:Object(x.jsx)(H.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:c,children:Object(x.jsx)(ke.a,{})})})}),Object(x.jsx)(ge.a,{"aria-label":"multi-select",defaultCollapseIcon:Object(x.jsx)(Se.a,{}),defaultExpandIcon:Object(x.jsx)(Ee.a,{}),multiSelect:!0,sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},children:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=n;return"/"!==n?a=a+"/"+t.name:a+=t.name,Object(x.jsx)(Ge,{nodeId:a,label:t.name,children:Array.isArray(t.folders)?t.folders.map((function(t){return e(t,a)})):null},a)}(n)})]})},Ve=240,qe=function(){var e=Object(G.c)(z),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(G.c)(D),s=Object(u.a)(c,2),i=s[0],o=s[1],l=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/user","GET");case 2:if(!((t=e.sent).status>=300)){e.next=5;break}return e.abrupt("return");case 5:return e.t0=o,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){0===Object.keys(i).length&&l()}),[]);var j=function(e){var t=e.children;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le.a,{variant:"permanent",sx:Object(Y.a)({display:{xs:"none",sm:"block"},width:Ve,flexShrink:0},"& .MuiDrawer-paper",{width:Ve,boxSizing:"border-box"}),children:t}),Object(x.jsx)(le.a,{open:n,onClose:function(){return r(!n)},sx:Object(Y.a)({width:Ve,display:{xs:"block",sm:"none"},flexShrink:0},"& .MuiDrawer-paper",{width:Ve,boxSizing:"border-box"}),children:t})]})};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(j,{children:[Object(x.jsx)(A.a,{}),Object(x.jsxs)(W.a,{sx:{overflow:"auto"},children:[Object(x.jsxs)(je.a,{children:[(1===i.status||2===i.status)&&Object(x.jsxs)(be.a,{button:!0,onClick:function(){return M("users")},children:[Object(x.jsx)(xe.a,{children:Object(x.jsx)(he.a,{})}),Object(x.jsx)(pe.a,{primary:"Users"})]},"user"),Object(x.jsxs)(be.a,{button:!0,onClick:function(){return M("edit")},children:[Object(x.jsx)(xe.a,{children:Object(x.jsx)(me.a,{})}),Object(x.jsx)(pe.a,{primary:i.name})]},"you")]}),Object(x.jsx)(de.a,{}),Object(x.jsx)(De,{})]})]})})},Ne=n(502),Le=n(447),Me=n(68),Ae=n(504),We=["children","buttonText","open","setOpen"],Ue={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",boxShadow:24,p:4},He=function(e){var t=e.children,n=e.buttonText,a=e.open,r=e.setOpen,c=Object(Me.a)(e,We);return Object(x.jsxs)("div",Object(ve.a)(Object(ve.a)({},c),{},{children:[n?Object(x.jsx)(m.a,{onClick:function(){return r(!0)},children:n}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(Ae.a,{open:a,onClose:function(){return r(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(x.jsx)(W.a,{sx:Ue,children:t})})]}))},Be=n(172),Re=n(501),_e=n(170),Je=n.n(_e),Ye=n(69),Ke=n.n(Ye),Qe=n(76),Xe=n.n(Qe),Ze=n(114),$e=n.n(Ze),et=n(115),tt=n.n(et),nt=n(171),at=n.n(nt),rt=["children","buttonText","editable","styled"],ct={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},st=function(e){var t=e.children,n=e.buttonText,r=e.editable,c=e.styled,s=Object(Me.a)(e,rt),i=Object(a.useState)(!1),o=Object(u.a)(i,2),l=o[0],j=o[1],d=function(){return j(!0)};return Object(x.jsxs)(x.Fragment,{children:[n&&c?Object(x.jsx)(m.a,{variant:"outlined",disabled:r,onClick:d,children:n}):n?Object(x.jsx)(m.a,{disabled:r,onClick:d,children:n}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("div",Object(ve.a)(Object(ve.a)({},s),{},{children:Object(x.jsx)(Ae.a,{open:l,onClose:function(){return j(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(x.jsx)(W.a,{sx:ct,children:t})})}))]})},it=n(510),ot=n(169),ut=n.n(ot),lt=n(524),jt=n(132),dt=n.n(jt),bt=n(166),xt=n.n(bt),pt=n(133),ft=n.n(pt),ht=n(167),Ot=n.n(ht),mt=n(168),vt=n.n(mt),gt=[{icon:Object(x.jsx)(dt.a,{}),name:"Open"},{icon:Object(x.jsx)(xt.a,{}),name:"Delete"},{icon:Object(x.jsx)(ft.a,{}),name:"Download"},{icon:Object(x.jsx)(Ot.a,{}),name:"Upload"},{icon:Object(x.jsx)(vt.a,{}),name:"Add Folder"}],wt=[{icon:Object(x.jsx)(dt.a,{}),name:"Open"},{icon:Object(x.jsx)(ft.a,{}),name:"Download"}];function kt(e){return new Promise((function(t){return setTimeout(t,e)}))}var yt=function(e){var t=e.table,n=e.selectionModel,a=e.refresh,r=e.upload,c=e.addFolderOpen,s=Object(G.d)(q)||L(),i=Object(P.b)(),o=i.enqueueSnackbar,u=(i.closeSnackbar,Object(G.d)(D)),l=function(e){switch(e){case"Open":d();break;case"Delete":b();break;case"Download":p();break;case"Upload":r();break;case"Add Folder":c()}},j=function(e){var n=s;return"".concat(n="/"===n?"":n,"/").concat(t[e].name)},d=function(){n.forEach((function(e){if("string"===typeof e&&(e=parseInt(e)),"folder"===(t[e].name.split(".")[1]||"folder")){var n=window.open("/showfolder".concat(j(e)));null===n||void 0===n||n.focus()}else{var a=window.open("/showfile".concat(j(e)));null===a||void 0===a||a.focus()}}))},b=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach(function(){var e=Object(O.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof n&&(n=parseInt(n)),"folder"!==(t[n].name.split(".")[1]||"folder")){e.next=8;break}return e.next=5,k("/folder".concat(j(n)),"DELETE");case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,k("/file".concat(j(n)),"DELETE");case 10:a=e.sent;case 11:if(!(a.status<300)){e.next=20;break}return e.t0=o,e.next=15,a.text();case 15:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),e.next=26;break;case 20:return e.t3=o,e.next=23,a.text();case 23:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kt(500).then((function(){a()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){n.forEach(function(){var e=Object(O.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"string"===typeof n&&(n=parseInt(n)),"folder"!==(t[n].name.split(".")[1]||"folder")&&y("/file".concat(j(n)),"GET",t[n].name).then((function(e){return e})).catch((function(e){return o(e.text(),{variant:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(it.a,{ariaLabel:"SpeedDial basic example",sx:{position:"fixed",bottom:16,right:16},direction:"left",icon:Object(x.jsx)(ut.a,{}),FabProps:{sx:{bgcolor:"primary.main","&:hover":{bgcolor:"primary.main"}}},children:u.status<=3?gt.map((function(e){return Object(x.jsx)(lt.a,{"data-index":e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){return l(e.name)}},e.name)})):wt.map((function(e){return Object(x.jsx)(lt.a,{"data-index":e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){return l(e.name)}},e.name)}))})})};var St=function(e){var t=e.table,n=e.rowsCount,r=e.refresh,c=e.upload,s=e.addFolderOpen,i=Object(a.useState)([]),o=Object(u.a)(i,2),l=o[0],j=o[1],d=Object(P.b)(),p=d.enqueueSnackbar,f=(d.closeSnackbar,function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j([]),e.next=3,r();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),v=[{field:"img",headerName:"",width:40,renderCell:function(e){var t=(e.getValue(e.id,"name")||"folder").toString().split("."),n=1===t.length?"folder":t[t.length-1];return Object(x.jsx)(x.Fragment,{children:"folder"===n&&Object(x.jsx)(Je.a,{})||"jpg"===n&&Object(x.jsx)(Ke.a,{})||"png"===n&&Object(x.jsx)(Ke.a,{})||"jpeg"===n&&Object(x.jsx)(Ke.a,{})||"apng"===n&&Object(x.jsx)(Ke.a,{})||"bmp"===n&&Object(x.jsx)(Ke.a,{})||"JPG"===n&&Object(x.jsx)(Ke.a,{})||"PNG"===n&&Object(x.jsx)(Ke.a,{})||"mp3"===n&&Object(x.jsx)($e.a,{})||"ogg"===n&&Object(x.jsx)($e.a,{})||"wav"===n&&Object(x.jsx)($e.a,{})||"txt"===n&&Object(x.jsx)(Xe.a,{})||"docx"===n&&Object(x.jsx)(Xe.a,{})||"js"===n&&Object(x.jsx)(Xe.a,{})||"rs"===n&&Object(x.jsx)(Xe.a,{})||"php"===n&&Object(x.jsx)(Xe.a,{})||"ts"===n&&Object(x.jsx)(Xe.a,{})||"mp4"===n&&Object(x.jsx)(tt.a,{})||"webm"===n&&Object(x.jsx)(tt.a,{})||"ogg"===n&&Object(x.jsx)(tt.a,{})||Object(x.jsx)(at.a,{})})}},{field:"name",headerName:"Name",type:"string",minWidth:150},{field:"modifiedDate",headerName:"Modified",type:"string",minWidth:100,valueGetter:function(e){var t=(e.getValue(e.id,"modified")||"").toString(),n=parseInt(t);return isNaN(n)?t:function(e){e=Number(e);var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=n>0?n+"h ":"",c=a>0?a+"m ":"";return t<1?c+r:n<1?c:(t>0?t+"d ":"")+r}(n)}},{field:"type",headerName:"Type",type:"string",valueGetter:function(e){var t=(e.getValue(e.id,"name")||"folder").toString().split(".");return 1===t.length?"folder":t[t.length-1]}},{field:"size",headerName:"Size",type:"number"},{field:"buttons",headerName:"",width:340,sortable:!1,renderCell:function(e){var t=function(){var t=e.api,n={};return t.getAllColumns().filter((function(e){return"__check__"!==e.field&&!!e})).forEach((function(t){return n[t.field]=e.getValue(e.id,t.field)})),n},n=function(){var e=Object(O.a)(h.a.mark((function e(n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),a=(t().name+"").split(".")[1]||"folder",r="/"===(r=L())?"":r,"folder"!==a&&y("/file".concat(r,"/").concat(t().name),"GET",t().name+"");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=t().name,c=function(){var e=Object(O.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/"===(n=L())?"":n,e.next=4,k("/file".concat(n,"/").concat(t().name),"PATCH",{name:"".concat(n,"/").concat(a)});case 4:if(!((c=e.sent).status<300)){e.next=14;break}return e.t0=p,e.next=9,c.text();case 9:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),e.next=20;break;case 14:return e.t3=p,e.next=17,c.text();case 17:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 20:return e.next=22,r();case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(Re.a,{spacing:2,direction:"row",children:[Object(x.jsx)(m.a,{onClick:function(n){n.stopPropagation();var a=(e.getValue(e.id,"name")||"folder").toString().split(".")[1]||"folder",r=L();r="/"===r?"":r,M("folder"===a?"showfolder".concat(r,"/").concat(t().name):"showfile".concat(r,"/").concat(t().name))},variant:"outlined",children:"Open"}),Object(x.jsx)(m.a,{onClick:n,variant:"outlined",children:"Download"}),Object(x.jsx)(st,{styled:!0,buttonText:"Rename",children:Object(x.jsx)(b.a,{children:Object(x.jsxs)(b.a,{item:!0,xs:3,sx:{margin:"auto",minWidth:"300px"},children:[Object(x.jsx)(g.a,{sx:{minWidth:"300px"},id:"outlined-basic",label:"Rename",defaultValue:t().name,variant:"outlined",onChange:function(e){return a=e.target.value}}),Object(x.jsx)(m.a,{onClick:c,sx:{margin:"30px"},variant:"contained",component:"span",children:"Submit"})]})})})]})}}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Be.a,{rows:t,columns:v,pageSize:n,rowsPerPageOptions:[n],checkboxSelection:!0,onSelectionModelChange:function(e){j(e)},selectionModel:l}),Object(x.jsx)(yt,{addFolderOpen:s,refresh:f,upload:c,table:t,selectionModel:l})]})},Ct=Object(K.a)("div")({textAlign:"center",padding:"20px",border:"3px dashed #eeeeee",backgroundColor:"#fafafa",color:"#bdbdbd"}),Et=Object(K.a)("input")({display:"none"}),Tt=function(){var e=Object(G.c)(D),t=Object(u.a)(e,2),n=t[0],r=t[1],c=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/user","GET");case 2:if(!((t=e.sent).status>=300)){e.next=5;break}return e.abrupt("return");case 5:return e.t0=r,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){0===Object.keys(n).length&&c()}),[]);var s=Object(G.d)(q)||L(),i=Object(a.useState)(!0),o=Object(u.a)(i,2),l=o[0],j=o[1],p=Object(a.useState)(s.split("/").pop()||""),f=Object(u.a)(p,2),v=(f[0],f[1],Object(a.useState)(!1)),w=Object(u.a)(v,2),y=(w[0],w[1],Object(a.useState)("")),C=Object(u.a)(y,2),E=C[0],T=C[1],I=Object(a.useState)(!1),F=Object(u.a)(I,2),z=F[0],N=F[1],M=Object(a.useState)(),A=Object(u.a)(M,2),U=A[0],H=A[1],B=Object(G.c)(V),R=Object(u.a)(B,2),_=(R[0],R[1]),J=Object(a.useState)(!1),Y=Object(u.a)(J,2),K=Y[0],Q=Y[1],X=Object(a.useState)(),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(P.b)(),ne=te.enqueueSnackbar;te.closeSnackbar;Object(a.useEffect)((function(){L()===s&&ae()}),[s]);var ae=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/folder".concat(""===s?"/":s),"GET");case 2:if(!((t=e.sent).status<300)){e.next=11;break}return e.next=6,t.json();case 6:n=e.sent,ee(n.map((function(e,t){return{id:t,name:e.name,modified:e.date,size:e.size}}))),j(!0),e.next=18;break;case 11:return j(!1),ee([]),e.t0=console,e.next=16,t.text();case 16:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/folder_tree","GET");case 2:if(!((t=e.sent).status<300)){e.next=11;break}return e.t0=_,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 11:return e.t2=console,e.next=14,t.text();case 14:e.t3=e.sent,e.t2.log.call(e.t2,e.t3);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/folder".concat(""===s?"/":s),"GET");case 2:if(!((t=e.sent).status<300)){e.next=10;break}return e.next=6,t.json();case 6:n=e.sent,ee(n.map((function(e,t){return{id:t,name:e.name,modified:e.date,size:e.size}}))),e.next=15;break;case 10:return e.t0=console,e.next=13,t.text();case 13:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ce(),re()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){N(!0)},oe=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/folder".concat(""===s?"/":s,"/").concat(E),"POST");case 2:if(!((t=e.sent).status<300)){e.next=12;break}return e.t0=ne,e.next=7,t.text();case 7:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),e.next=18;break;case 12:return e.t3=ne,e.next=15,t.text();case 15:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 18:return e.next=20,se();case 20:N(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){Q(!0)},le=function(){var e=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===U){e.next=25;break}t=0;case 2:if(!(t<U.length)){e.next=24;break}return e.next=5,S("/file/".concat(s),"POST",U[t]);case 5:if(!((n=e.sent).status<300)){e.next=15;break}return e.t0=ne,e.next=10,n.text();case 10:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),e.next=21;break;case 15:return e.t3=ne,e.next=18,n.text();case 18:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 21:t++,e.next=2;break;case 24:case 25:se(),Q(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=.6*window.screen.height,de=Math.round(je/51);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{id:"tableDiv",style:{height:"".concat(je,"px"),width:"100%"},children:void 0!==$?$&&0!==$.length?Object(x.jsx)(St,{addFolderOpen:ie,upload:ue,refresh:se,table:$,rowsCount:de}):l?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:Object(x.jsxs)(W.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center"},children:[Object(x.jsx)(d.a,{variant:"h6",component:"div",style:{marginBottom:"5vh"},children:"Folder is empty"}),n.status<=3?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m.a,{sx:{margin:"5px"},onClick:ue,variant:"contained",children:"Upload files"}),Object(x.jsx)(m.a,{sx:{margin:"5px"},onClick:ie,variant:"contained",children:"Add Folder"})]}):Object(x.jsx)(x.Fragment,{})]})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:Object(x.jsxs)(b.a,{item:!0,xs:3,children:[Object(x.jsx)(d.a,{variant:"h6",align:"center",component:"div",style:{marginBottom:"2vh"},children:"Error 404"}),Object(x.jsx)(d.a,{variant:"overline",component:"div",children:"cant find folder"})]})})}):Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(x.jsx)(Le.a,{})})}),Object(x.jsxs)(He,{open:K,setOpen:Q,children:[Object(x.jsx)("label",{htmlFor:"file-upload",children:Object(x.jsxs)(Ct,{children:[Object(x.jsx)(Et,{id:"file-upload",onChange:function(e){e.target.files&&0===e.target.files.length?H(void 0):H(e.target.files||void 0)},multiple:!0,type:"file"}),U?U.length>1?"count of files: ".concat(U.length):U[0].name:"Upload files"]})}),U?Object(x.jsx)(W.a,{sx:{marginTop:"20px",textAlign:"center"},children:Object(x.jsx)(m.a,{variant:"contained",onClick:le,component:"span",children:"Upload"})}):Object(x.jsx)(x.Fragment,{})]}),Object(x.jsx)(He,{open:z,setOpen:N,children:Object(x.jsx)(b.a,{children:Object(x.jsxs)(b.a,{item:!0,xs:3,sx:{margin:"auto",minWidth:"300px"},children:[Object(x.jsx)(g.a,{onChange:function(e){return T(e.target.value)},sx:{minWidth:"300px"},id:"outlined-basic",label:"Add Folder",defaultValue:E,variant:"outlined"}),Object(x.jsx)(m.a,{onClick:oe,sx:{margin:"30px"},variant:"contained",component:"span",children:"Submit"})]})})})]})},It=function(){var e=Object(G.c)(D),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(G.d)(q)||L(),s=Object(a.useState)(n.name),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(n.email),d=Object(u.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(n.pass),v=Object(u.a)(f,2),w=v[0],y=v[1],S=Object(P.b)(),C=S.enqueueSnackbar,E=(S.closeSnackbar,function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/user","PATCH",{name:o,email:b,pass:w});case 2:if(!((t=e.sent).status<300)){e.next=13;break}return e.t0=C,e.next=7,t.text();case 7:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),T(),e.next=19;break;case 13:return e.t3=C,e.next=16,t.text();case 16:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),T=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/user","GET");case 2:if(!((t=e.sent).status>=300)){e.next=5;break}return e.abrupt("return");case 5:return e.t0=r,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){0===Object.keys(n).length&&T()}),[c]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(W.a,{sx:{maxWidth:"400px",margin:"0 auto",verticalAlign:"middle"},children:[Object(x.jsxs)(W.a,{children:[Object(x.jsx)(g.a,{sx:{margin:"10px"},required:!0,defaultValue:n.name,id:"name",label:"Name",variant:"standard",size:"medium",onChange:function(e){return l(e.target.value)}}),Object(x.jsx)(g.a,{sx:{margin:"10px"},required:!0,defaultValue:n.email,id:"email",label:"Email",variant:"standard",size:"medium",onChange:function(e){return p(e.target.value)}}),Object(x.jsx)(g.a,{sx:{margin:"10px"},required:!0,defaultValue:n.pass,id:"pass",label:"Password",variant:"standard",size:"medium",onChange:function(e){return y(e.target.value)}})]}),Object(x.jsx)(m.a,{color:"primary",sx:{marginTop:"20px"},variant:"contained",onClick:E,children:"Submit"})]})})},Pt=function(){return Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(x.jsx)(Le.a,{})})},Ft=n(173),Gt=n.n(Ft),zt=(n(431),function(e){var t=e.path,n=Object(a.useState)(),r=Object(u.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/file".concat(t),"GET");case 2:e.sent.text().then((function(e){s(Gt.a.highlight(e,{language:t.split(".").pop()||""}).value)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[t]),Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(x.jsx)(v.a,{children:Object(x.jsx)(W.a,{sx:{margin:"20px"},children:Object(x.jsx)("pre",{children:Object(x.jsx)("code",{className:"hljs",dangerouslySetInnerHTML:{__html:c}})})})})}):Object(x.jsx)(Pt,{})})}),Dt=function(e){var t=e.path,n=Object(a.useState)(),r=Object(u.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/file".concat(t),"GET");case 2:return e.next=4,e.sent.arrayBuffer();case 4:n=e.sent,s(I(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[t]),Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(x.jsx)(v.a,{children:Object(x.jsx)(W.a,{sx:{margin:"20px"},children:Object(x.jsx)("img",{style:{maxWidth:"100%",maxHeight:"500px"},src:"data: image/png;base64,"+c,alt:"photo"})})})}):Object(x.jsx)(Pt,{})})},Vt=function(e){var t=e.path,n=Object(a.useState)(),r=Object(u.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/file".concat(t),"GET");case 2:return e.next=4,e.sent.arrayBuffer();case 4:n=e.sent,s(I(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[t]),Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(x.jsx)(v.a,{children:Object(x.jsx)(W.a,{sx:{margin:"20px"},children:Object(x.jsx)("audio",{controls:!0,autoPlay:!0,children:Object(x.jsx)("source",{src:"data:audio/wav;base64,".concat(c)})})})})}):Object(x.jsx)(Pt,{})})},qt=function(e){var t=e.path;return Object(a.useEffect)((function(){!function(){var e=document.querySelector("#video");k("/file".concat(t),"GET").then((function(e){return e.blob()})).then((function(t){e.src=URL.createObjectURL(t)}))}()}),[t]),Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)("script",{children:'import MP4Source from "../codecs/mp4Codec";'}),Object(x.jsx)(W.a,{sx:{margin:"20px"},children:Object(x.jsx)("video",{style:{maxWidth:"100%",maxHeight:"500px"},id:"video",controls:!0,preload:"auto"})})]})})},Nt=function(e){var t=e.path,n=Object(a.useState)(!1),r=Object(u.a)(n,2),c=r[0],s=r[1],i=function(){var e=Object(O.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.split("/"),a=n.pop()||"",y("/file".concat(t),"GET",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes(".")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k("/file".concat(t),"GET");case 4:e.sent.status<300&&s(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[t]),Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:Object(x.jsxs)(W.a,{sx:{display:"flex",flexDirection:"column",textAlign:"center"},children:[Object(x.jsx)(d.a,{variant:"h6",component:"div",style:{marginBottom:"5vh"},children:"Cant show file"}),Object(x.jsx)(m.a,{sx:{margin:"5px"},onClick:i,variant:"contained",children:"Download"})]})}):Object(x.jsx)(b.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"70vh"},children:Object(x.jsxs)(b.a,{item:!0,xs:3,children:[Object(x.jsx)(d.a,{variant:"h6",align:"center",component:"div",style:{marginBottom:"2vh"},children:"Error 404"}),Object(x.jsx)(d.a,{variant:"overline",component:"div",children:"cant find file"})]})})})},Lt=[".mp4",".webm",".ogg"],Mt=[".jpg",".png",".jpeg",".gif",".apng",".bmp",".PNG",".JPG",".JPEG"],At=[".mp3",".wav",".ogg"],Wt=[".txt",".js",".php",".ts",".rs",".go",".tsx",".jsx",".r"].concat(".c .cc .c++ .cs .java .ex .lisp .clj .asm .rb .hs .py .ada .awk .bf .hpp .hh .css .html .coffee .dart .pws .sh .erl .fs .hy .kt .julia .jolie .tex .ls .ml .perl .prolog .sass .less .scheme .swift .svelte .vue .vba .yml .json .toml .xml".split(" ")),Ut=function(){var e=Object(G.d)(q)||L(),t=function(t){return t.some((function(t){return e.endsWith(t)}))};return Object(x.jsx)(x.Fragment,{children:t(Wt)?Object(x.jsx)(zt,{path:e}):t(At)?Object(x.jsx)(Vt,{path:e}):t(Lt)?Object(x.jsx)(qt,{path:e}):t(Mt)?Object(x.jsx)(Dt,{path:e}):Object(x.jsx)(Nt,{path:e})})},Ht=n(522),Bt=n(523),Rt=function(e){var t=e.user,n=e.key,r=e.editable,c=e.getUsers,s=Object(a.useState)(t.name),i=Object(u.a)(s,2),o=i[0],p=i[1],f=Object(a.useState)(t.email),v=Object(u.a)(f,2),w=v[0],y=v[1],S=Object(a.useState)(t.pass),C=Object(u.a)(S,2),E=C[0],T=C[1],I=Object(a.useState)(t.size),F=Object(u.a)(I,2),G=F[0],z=F[1],D=Object(a.useState)(t.path),V=Object(u.a)(D,2),q=V[0],N=V[1],L=Object(a.useState)(t.status),M=Object(u.a)(L,2),A=M[0],U=M[1],H=Object(P.b)(),B=H.enqueueSnackbar,R=(H.closeSnackbar,function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users/"+t.id,"PATCH",{id:t.id,name:o,email:w,pass:E,size:G,path:q,status:A});case 2:if(!((n=e.sent).status<300)){e.next=13;break}return e.t0=B,e.next=7,n.text();case 7:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),c(),e.next=19;break;case 13:return e.t3=B,e.next=16,n.text();case 16:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),_=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users/"+t.id,"DELETE");case 2:if(!((n=e.sent).status<300)){e.next=13;break}return e.t0=B,e.next=7,n.text();case 7:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),c(),e.next=19;break;case 13:return e.t3=B,e.next=16,n.text();case 16:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(l.a,{sx:{minWidth:"220px",flex:"1",margin:"20px"},children:[Object(x.jsxs)(j.a,{children:[Object(x.jsx)(d.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.name}),Object(x.jsx)(W.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(x.jsx)(d.a,{variant:"body2",color:"text.secondary",children:Object(x.jsxs)(b.a,{container:!0,spacing:2,children:[Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:["ID: ",t.id]},"id")}),Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:["Email: ",t.email]},"email")}),Object(x.jsx)("ul",{children:Object(x.jsx)("li",{children:"Pass: ********"},"pass")})]}),Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:["Size: ",t.size]},"size")}),Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:["Path: ",t.path]},"path")}),Object(x.jsx)("ul",{children:Object(x.jsxs)("li",{children:["Status: ",t.status]},"status")})]})]})})})]}),Object(x.jsxs)(Ht.a,{children:[Object(x.jsxs)(st,{editable:r,buttonText:"Edit",children:[Object(x.jsxs)(b.a,{container:!0,spacing:2,children:[Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)(g.a,{required:!0,defaultValue:o,id:"name",label:"Name",variant:"standard",onChange:function(e){return p(e.target.value)}}),Object(x.jsx)(g.a,{required:!0,defaultValue:w,id:"email",label:"Email",variant:"standard",onChange:function(e){return y(e.target.value)}}),Object(x.jsx)(g.a,{defaultValue:E,id:"pass",label:"Password",variant:"standard",onChange:function(e){return T(e.target.value)}})]}),Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)(g.a,{required:!0,defaultValue:q,id:"path",label:"Path",variant:"standard",onChange:function(e){return N(e.target.value)}}),Object(x.jsx)(g.a,{required:!0,defaultValue:A,id:"status",label:"Status",variant:"standard",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){return parseInt(e.target.value)?U(parseInt(e.target.value)):""}}),Object(x.jsx)(g.a,{required:!0,defaultValue:G,id:"size",label:"Size",variant:"standard",type:"number",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(x.jsx)(Bt.a,{position:"end",children:"Mb"})},onChange:function(e){return parseInt(e.target.value)?z(parseInt(e.target.value)):""}})]})]}),Object(x.jsx)(m.a,{sx:{float:"right",marginTop:"20px"},onClick:R,children:"Submit"})]}),Object(x.jsx)(m.a,{onClick:_,disabled:r,size:"small",children:"Delete"})]})]},n)},_t=function(e){var t=e.setUsers,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),o=Object(u.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(""),p=Object(u.a)(d,2),f=p[0],v=p[1],w=Object(a.useState)(0),y=Object(u.a)(w,2),S=y[0],C=y[1],E=Object(a.useState)("/"),T=Object(u.a)(E,2),I=T[0],F=T[1],G=Object(a.useState)(4),z=Object(u.a)(G,2),D=z[0],V=z[1],q=Object(P.b)(),N=q.enqueueSnackbar,L=(q.closeSnackbar,function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users","POST",{id:0,name:c,email:l,pass:f,size:S,path:I,status:D});case 2:if(!((t=e.sent).status<300)){e.next=13;break}return e.t0=N,e.next=7,t.text();case 7:e.t1=e.sent,e.t2={variant:"success"},(0,e.t0)(e.t1,e.t2),M(),e.next=19;break;case 13:return e.t3=N,e.next=16,t.text();case 16:e.t4=e.sent,e.t5={variant:"error"},(0,e.t3)(e.t4,e.t5);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),M=function(){var e=Object(O.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users","GET");case 2:if(!((n=e.sent).status>=300)){e.next=11;break}return e.t0=N,e.next=7,n.text();case 7:return e.t1=e.sent,e.t2={variant:"error"},(0,e.t0)(e.t1,e.t2),e.abrupt("return");case 11:return e.t3=t,e.next=14,n.json();case 14:e.t4=e.sent,(0,e.t3)(e.t4);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(st,{buttonText:"add User",children:[Object(x.jsxs)(b.a,{container:!0,spacing:2,children:[Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)(g.a,{required:!0,defaultValue:c,id:"name",label:"Name",variant:"standard",onChange:function(e){return s(e.target.value)}}),Object(x.jsx)(g.a,{required:!0,defaultValue:l,id:"email",label:"Email",variant:"standard",onChange:function(e){return j(e.target.value)}}),Object(x.jsx)(g.a,{defaultValue:f,id:"pass",label:"Password",variant:"standard",onChange:function(e){return v(e.target.value)}})]}),Object(x.jsxs)(b.a,{item:!0,xs:6,children:[Object(x.jsx)(g.a,{required:!0,defaultValue:I,id:"path",label:"Path",variant:"standard",onChange:function(e){return F(e.target.value)}}),Object(x.jsx)(g.a,{required:!0,defaultValue:D,id:"status",label:"Status",variant:"standard",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){return parseInt(e.target.value)?V(parseInt(e.target.value)):""}}),Object(x.jsx)(g.a,{required:!0,defaultValue:S,id:"size",label:"Size",variant:"standard",type:"number",InputLabelProps:{shrink:!0},InputProps:{endAdornment:Object(x.jsx)(Bt.a,{position:"end",children:"Mb"})},onChange:function(e){return parseInt(e.target.value)?C(parseInt(e.target.value)):""}})]})]}),Object(x.jsx)(m.a,{sx:{float:"right",marginTop:"20px"},onClick:L,children:"Submit"})]})},Jt=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(G.d)(D),s=Object(P.b)(),i=s.enqueueSnackbar;s.closeSnackbar;Object(a.useEffect)((function(){o()}),[]);var o=function(){var e=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/users","GET");case 2:if(!((t=e.sent).status>=300)){e.next=11;break}return e.t0=i,e.next=7,t.text();case 7:return e.t1=e.sent,e.t2={variant:"error"},(0,e.t0)(e.t1,e.t2),e.abrupt("return");case 11:return e.t3=r,e.next=14,t.json();case 14:e.t4=e.sent,(0,e.t3)(e.t4);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(W.a,{sx:{flexGrow:1},children:Object(x.jsx)(b.a,{container:!0,sx:{flexWrap:"wrap",display:"flex"},children:n.map((function(e,t){return Object(x.jsx)(Rt,{user:e,editable:1===e.status||e.id===c.id,getUsers:o},t)}))})}),Object(x.jsx)(_t,{setUsers:r})]})},Yt=[{name:"/showfolder",component:Object(x.jsx)(Tt,{})},{name:"/showfile",component:Object(x.jsx)(Ut,{})},{name:"/users",component:Object(x.jsx)(Jt,{})},{name:"/edit",component:Object(x.jsx)(It,{})}],Kt=function(){return Object(x.jsx)(W.a,{component:"main",sx:{flexGrow:1,p:3,paddingTop:"80px"},children:Object(x.jsx)(N,{routes:Yt})})},Qt=function(){return Object(x.jsxs)(W.a,{sx:{display:"flex"},children:[Object(x.jsx)(Ne.a,{}),Object(x.jsx)(ue,{}),Object(x.jsx)(qe,{}),Object(x.jsx)(Kt,{})]})},Xt=[{name:"/",component:Object(x.jsx)(F,{})},{name:"/showfolder",component:Object(x.jsx)(Qt,{})},{name:"/showfile",component:Object(x.jsx)(Qt,{})},{name:"/users",component:Object(x.jsx)(Qt,{})},{name:"/folder",component:Object(x.jsx)(Qt,{})},{name:"/login",component:Object(x.jsx)(F,{})},{name:"/edit",component:Object(x.jsx)(Qt,{})}],Zt=Object(i.a)({palette:{primary:{main:"#E06D06"},secondary:{main:"#161032"}}});var $t=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(Ne.a,{}),Object(x.jsx)(G.a,{children:Object(x.jsx)(o.a,{theme:Zt,children:Object(x.jsx)(P.a,{maxSnack:4,children:Object(x.jsx)(N,{routes:Xt})})})})]})};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)($t,{})}),document.getElementById("root"))}},[[432,1,2]]]);
//# sourceMappingURL=main.67e7ee59.chunk.js.map